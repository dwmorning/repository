```
内存泄漏：非预期的数据（垃圾）无法清除（回收）

关于垃圾回收算法：
引用计数（旧）：引用值为0就回收，但是重大缺陷：循环引用就无法回收
标记清除（现）：定期从根节点遍历数据，有则保留，没有则回收
```

```
[连环问]闭包算内存泄漏吗？
闭包的数据是不可以回收的，但是是预期的数据，不算
```

> 如何检测内存泄漏

```
浏览器F12->Performance->Memory
```

> 内存泄漏的场景(vue为例)

```
被全局变量、函数引用，组件销毁时未清除
被全局事件、定时器引用，组件销毁时未清除
被自定义事件引用，组件销毁时未清除
```

> WeakMap WeakSet 弱引用

```
全局引用，在局部可引用，但会内存销毁（清理）
Map Set则不会内存销毁（清理）
WeakMap 的key必须是引用类型
弱引用只有get没有forEach size length
```